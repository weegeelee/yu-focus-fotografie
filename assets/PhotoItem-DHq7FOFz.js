import{r as o,S as h,j as e}from"./index-Cqvqc7tZ.js";function g({photo:s,index:x,allPhotos:i}){const[n,r]=o.useState(null),{onSelectPhoto:d,isSelected:l}=o.useContext(h),m=t=>t.replace(/\.[^/.]+$/,"");function a(t){if(i.length===0)return;let c;t<0?c=i.length-1:t>=i.length?c=0:c=t;const u={...i[c],index:c};r(u)}return e.jsxs(e.Fragment,{children:[n&&e.jsxs("div",{className:"preview-box",children:[e.jsx("p",{className:"top-button",children:e.jsx("button",{onClick:()=>r(null),children:"×"})}),e.jsx("img",{src:n.imageUrl,alt:n.name,loading:"lazy"}),e.jsxs("div",{className:"preview-config",children:[e.jsxs("div",{className:"config-box",children:[e.jsx("button",{className:"left",onClick:()=>a(n.index-1),children:"<"}),e.jsxs("span",{children:[n.index+1," / ",i.length]}),e.jsx("button",{className:"right",onClick:()=>a(n.index+1),children:">"})]}),e.jsx("div",{className:"config-button",children:e.jsx("button",{onClick:()=>d(n.id),className:l(n.id)?"preview-button-selected":"preview-button",children:l(n.id)?" Abwählen":"+ Auswählen"})})]})]}),e.jsxs("li",{className:l(s.id)?"li li-selected":"li",children:[e.jsx("img",{src:s.imageUrl,alt:s.name,onContextMenu:t=>t.preventDefault(),onClick:()=>a(x)}),e.jsx("p",{className:"photo-button",children:e.jsx("button",{onClick:()=>d(s.id),className:l(s.id)?"button-selected":"button",children:l(s.id)?"":"+"})}),e.jsx("p",{className:"photo-name",children:m(s.name)})]})]})}export{g as default};
